!function(e){var t={init:function(t){var i={time_constant:200,dist:-100,shift:0,padding:0,full_width:!1,indicators:!1,no_wrap:!1};return t=e.extend(i,t),this.each(function(){function i(){"undefined"!=typeof window.ontouchstart&&(I[0].addEventListener("touchstart",d),I[0].addEventListener("touchmove",p),I[0].addEventListener("touchend",h)),I[0].addEventListener("mousedown",d),I[0].addEventListener("mousemove",p),I[0].addEventListener("mouseup",h),I[0].addEventListener("mouseleave",h),I[0].addEventListener("click",u)}function a(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function n(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function o(e){return e>=k?e%k:e<0?o(k+e%k):e}function r(e){var i,a,n,r,s,l,u;if(g="number"==typeof e?e:g,f=Math.floor((g+v/2)/v),n=g-f*v,r=n<0?1:-1,s=-r*n*2/v,a=k>>1,t.full_width?u="translateX(0)":(u="translateX("+(I[0].clientWidth-item_width)/2+"px) ",u+="translateY("+(I[0].clientHeight-item_width)/2+"px)"),P){var c=f%k,d=R.find(".indicator-item.active");d.index()!==c&&(d.removeClass("active"),R.find(".indicator-item").eq(c).addClass("active"))}for((!t.no_wrap||f>=0&&f<k)&&(l=m[o(f)],l.style[L]=u+" translateX("+-n/2+"px) translateX("+r*t.shift*s*i+"px) translateZ("+t.dist*s+"px)",l.style.zIndex=0,t.full_width?tweenedOpacity=1:tweenedOpacity=1-.2*s,l.style.opacity=tweenedOpacity,l.style.display="block"),i=1;i<=a;++i)t.full_width?(zTranslation=t.dist,tweenedOpacity=i===a&&n<0?1-s:1):(zTranslation=t.dist*(2*i+s*r),tweenedOpacity=1-.2*(2*i+s*r)),(!t.no_wrap||f+i<k)&&(l=m[o(f+i)],l.style[L]=u+" translateX("+(t.shift+(v*i-n)/2)+"px) translateZ("+zTranslation+"px)",l.style.zIndex=-i,l.style.opacity=tweenedOpacity,l.style.display="block"),t.full_width?(zTranslation=t.dist,tweenedOpacity=i===a&&n>0?1-s:1):(zTranslation=t.dist*(2*i-s*r),tweenedOpacity=1-.2*(2*i-s*r)),(!t.no_wrap||f-i>=0)&&(l=m[o(f-i)],l.style[L]=u+" translateX("+(-t.shift+(-v*i-n)/2)+"px) translateZ("+zTranslation+"px)",l.style.zIndex=-i,l.style.opacity=tweenedOpacity,l.style.display="block");(!t.no_wrap||f>=0&&f<k)&&(l=m[o(f)],l.style[L]=u+" translateX("+-n/2+"px) translateX("+r*t.shift*s+"px) translateZ("+t.dist*s+"px)",l.style.zIndex=0,t.full_width?tweenedOpacity=1:tweenedOpacity=1-.2*s,l.style.opacity=tweenedOpacity,l.style.display="block")}function s(){var e,t,i,a;e=Date.now(),t=e-F,F=e,i=g-x,x=g,a=1e3*i/(1+t),C=.8*a+.2*C}function l(){var e,i;S&&(e=Date.now()-F,i=S*Math.exp(-e/t.time_constant),i>2||i<-2?(r(A-i),requestAnimationFrame(l)):r(A))}function u(i){if(_)return i.preventDefault(),i.stopPropagation(),!1;if(!t.full_width){var a=e(i.target).closest(".carousel-item").index(),n=f%k-a;0!==n&&(i.preventDefault(),i.stopPropagation()),c(a)}}function c(e){var i=f%k-e;t.no_wrap||(i<0?Math.abs(i+k)<Math.abs(i)&&(i+=k):i>0&&Math.abs(i-k)<i&&(i-=k)),i<0?I.trigger("carouselNext",[Math.abs(i)]):i>0&&I.trigger("carouselPrev",[i])}function d(e){b=!0,_=!1,D=!1,w=a(e),T=n(e),C=S=0,x=g,F=Date.now(),clearInterval(E),E=setInterval(s,100)}function p(e){var t,i,o;if(b)if(t=a(e),y=n(e),i=w-t,o=Math.abs(T-y),o<30&&!D)(i>2||i<-2)&&(_=!0,w=t,r(g+i));else{if(_)return e.preventDefault(),e.stopPropagation(),!1;D=!0}if(_)return e.preventDefault(),e.stopPropagation(),!1}function h(e){if(b)return b=!1,clearInterval(E),A=g,(C>10||C<-10)&&(S=.9*C,A=g+S),A=Math.round(A/v)*v,t.no_wrap&&(A>=v*(k-1)?A=v*(k-1):A<0&&(A=0)),S=A-g,F=Date.now(),requestAnimationFrame(l),_&&(e.preventDefault(),e.stopPropagation()),!1}var m,g,f,b,v,k,w,T,S,A,C,L,x,F,E,_,D,R=e('<ul class="indicators"></ul>'),I=e(this),P=I.attr("data-indicators")||t.indicators;if(I.hasClass("initialized"))return e(this).trigger("carouselNext",[1e-6]),!0;if(t.full_width){t.dist=0;var z=I.find(".carousel-item img").first();z.length?imageHeight=z.load(function(){I.css("height",e(this).height())}):(imageHeight=I.find(".carousel-item").first().height(),I.css("height",imageHeight)),P&&I.find(".carousel-fixed-item").addClass("with-indicators")}I.addClass("initialized"),b=!1,g=A=0,m=[],item_width=I.find(".carousel-item").first().innerWidth(),v=2*item_width+t.padding,I.find(".carousel-item").each(function(t){if(m.push(e(this)[0]),P){var i=e('<li class="indicator-item"></li>');0===t&&i.addClass("active"),i.click(function(){var t=e(this).index();c(t)}),R.append(i)}}),P&&I.append(R),k=m.length,L="transform",["webkit","Moz","O","ms"].every(function(e){var t=e+"Transform";return"undefined"==typeof document.body.style[t]||(L=t,!1)}),window.onresize=r,i(),r(g),e(this).on("carouselNext",function(e,t){void 0===t&&(t=1),A=g+v*t,g!==A&&(S=A-g,F=Date.now(),requestAnimationFrame(l))}),e(this).on("carouselPrev",function(e,t){void 0===t&&(t=1),A=g-v*t,g!==A&&(S=A-g,F=Date.now(),requestAnimationFrame(l))}),e(this).on("carouselSet",function(e,t){void 0===t&&(t=0),c(t)})})},next:function(t){e(this).trigger("carouselNext",[t])},prev:function(t){e(this).trigger("carouselPrev",[t])},set:function(t){e(this).trigger("carouselSet",[t])}};e.fn.carousel=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.carousel"):t.init.apply(this,arguments)}}(jQuery);
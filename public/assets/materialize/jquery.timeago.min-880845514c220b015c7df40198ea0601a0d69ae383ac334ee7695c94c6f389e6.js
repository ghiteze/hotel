!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(){var t=i(this),r=o.settings;return isNaN(t.datetime)||(0==r.cutoff||Math.abs(n(t.datetime))<r.cutoff)&&e(this).text(a(t.datetime)),this}function i(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:o.datetime(t)});var i=e.trim(t.text());o.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(i.length>0)||o.isTime(t)&&t.attr("title")||t.attr("title",i)}return t.data("timeago")}function a(e){return o.inWords(n(e))}function n(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return a(t instanceof Date?t:"string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var o=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function i(i,n){var o=e.isFunction(i)?i(n,t):i,r=a.numbers&&a.numbers[n]||n;return o.replace(/%d/i,r)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var a=this.settings.strings,n=a.prefixAgo,o=a.suffixAgo;if(this.settings.allowFuture&&0>t&&(n=a.prefixFromNow,o=a.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var r=Math.abs(t)/1e3,s=r/60,l=s/60,u=l/24,c=u/365,d=45>r&&i(a.seconds,Math.round(r))||90>r&&i(a.minute,1)||45>s&&i(a.minutes,Math.round(s))||90>s&&i(a.hour,1)||24>l&&i(a.hours,Math.round(l))||42>l&&i(a.day,1)||30>u&&i(a.days,Math.round(u))||45>u&&i(a.month,1)||365>u&&i(a.months,Math.round(u/30))||1.5>c&&i(a.year,1)||i(a.years,Math.round(c)),p=a.wordSeparator||"";return void 0===a.wordSeparator&&(p=" "),e.trim([n,d,o].join(p))},parse:function(t){var i=e.trim(t);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(t){var i=e(t).attr(o.isTime(t)?"datetime":"title");return o.parse(i)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var r={init:function(){var i=e.proxy(t,this);i();var a=o.settings;a.refreshMillis>0&&(this._timeagoInterval=setInterval(i,a.refreshMillis))},update:function(i){var a=o.parse(i);e(this).data("timeago",{datetime:a}),o.settings.localeTitle&&e(this).attr("title",a.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:o.parse(e(this).attr(o.isTime(this)?"datetime":"title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var i=e?r[e]:r.init;if(!i)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){i.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")});
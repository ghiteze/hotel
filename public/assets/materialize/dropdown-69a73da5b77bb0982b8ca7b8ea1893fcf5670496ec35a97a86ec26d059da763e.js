!function(e){e.fn.scrollTo=function(t){return e(this).scrollTop(e(this).scrollTop()-e(this).offset().top+e(t).offset().top),this},e.fn.dropdown=function(t){var i={inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!1,alignment:"left",stopPropagation:!1};return"open"===t?(this.each(function(){e(this).trigger("open")}),!1):"close"===t?(this.each(function(){e(this).trigger("close")}),!1):void this.each(function(){function t(){void 0!==o.data("induration")&&(r.inDuration=o.data("induration")),void 0!==o.data("outduration")&&(r.outDuration=o.data("outduration")),void 0!==o.data("constrainwidth")&&(r.constrain_width=o.data("constrainwidth")),void 0!==o.data("hover")&&(r.hover=o.data("hover")),void 0!==o.data("gutter")&&(r.gutter=o.data("gutter")),void 0!==o.data("beloworigin")&&(r.belowOrigin=o.data("beloworigin")),void 0!==o.data("alignment")&&(r.alignment=o.data("alignment")),void 0!==o.data("stoppropagation")&&(r.stopPropagation=o.data("stoppropagation"))}function a(i){"focus"===i&&(s=!0),t(),l.addClass("active"),o.addClass("active"),r.constrain_width===!0?l.css("width",o.outerWidth()):l.css("white-space","nowrap");var a=window.innerHeight,n=o.innerHeight(),u=o.offset().left,c=o.offset().top-e(window).scrollTop(),d=r.alignment,p=0,h=0,m=0;r.belowOrigin===!0&&(m=n);var g=0,f=0,b=o.parent();if(b.is("body")||(b[0].scrollHeight>b[0].clientHeight&&(g=b[0].scrollTop),b[0].scrollWidth>b[0].clientWidth&&(f=b[0].scrollLeft)),u+l.innerWidth()>e(window).width()?d="right":u-l.innerWidth()+o.innerWidth()<0&&(d="left"),c+l.innerHeight()>a)if(c+n-l.innerHeight()<0){var v=a-c-m;l.css("max-height",v)}else m||(m+=n),m-=l.innerHeight();if("left"===d)p=r.gutter,h=o.position().left+p;else if("right"===d){var k=o.position().left+o.outerWidth()-l.outerWidth();p=-r.gutter,h=k+p}l.css({position:"absolute",top:o.position().top+m+g,left:h+f}),l.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:r.inDuration,easing:"easeOutCubic",complete:function(){e(this).css("height","")}}).animate({opacity:1},{queue:!1,duration:r.inDuration,easing:"easeOutSine"})}function n(){s=!1,l.fadeOut(r.outDuration),l.removeClass("active"),o.removeClass("active"),setTimeout(function(){l.css("max-height","")},r.outDuration)}var o=e(this),r=e.extend({},i,r),s=!1,l=e("#"+o.attr("data-activates"));if(t(),o.after(l),r.hover){var u=!1;o.unbind("click."+o.attr("id")),o.on("mouseenter",function(){u===!1&&(a(),u=!0)}),o.on("mouseleave",function(t){var i=t.toElement||t.relatedTarget;e(i).closest(".dropdown-content").is(l)||(l.stop(!0,!0),n(),u=!1)}),l.on("mouseleave",function(t){var i=t.toElement||t.relatedTarget;e(i).closest(".dropdown-button").is(o)||(l.stop(!0,!0),n(),u=!1)})}else o.unbind("click."+o.attr("id")),o.bind("click."+o.attr("id"),function(t){s||(o[0]!=t.currentTarget||o.hasClass("active")||0!==e(t.target).closest(".dropdown-content").length?o.hasClass("active")&&(n(),e(document).unbind("click."+l.attr("id")+" touchstart."+l.attr("id"))):(t.preventDefault(),r.stopPropagation&&t.stopPropagation(),a("click")),l.hasClass("active")&&e(document).bind("click."+l.attr("id")+" touchstart."+l.attr("id"),function(t){l.is(t.target)||o.is(t.target)||o.find(t.target).length||(n(),e(document).unbind("click."+l.attr("id")+" touchstart."+l.attr("id")))}))});o.on("open",function(e,t){a(t)}),o.on("close",n)})},e(document).ready(function(){e(".dropdown-button").dropdown()})}(jQuery);
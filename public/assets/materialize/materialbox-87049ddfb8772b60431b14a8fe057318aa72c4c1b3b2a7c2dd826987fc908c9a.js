!function(e){e.fn.materialbox=function(){return this.each(function(){function t(){o=!1;var t=l.parent(".material-placeholder"),a=(window.innerWidth,window.innerHeight,l.data("width")),r=l.data("height");l.velocity("stop",!0),e("#materialbox-overlay").velocity("stop",!0),e(".materialbox-caption").velocity("stop",!0),e("#materialbox-overlay").velocity({opacity:0},{duration:s,queue:!1,easing:"easeOutQuad",complete:function(){n=!1,e(this).remove()}}),l.velocity({width:a,height:r,left:0,top:0},{duration:s,queue:!1,easing:"easeOutQuad"}),e(".materialbox-caption").velocity({opacity:0},{duration:s,queue:!1,easing:"easeOutQuad",complete:function(){t.css({height:"",width:"",position:"",top:"",left:""}),l.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""}),l.removeClass("active"),o=!0,e(this).remove(),i&&i.css("overflow","")}})}if(!e(this).hasClass("initialized")){e(this).addClass("initialized");var i,a,n=!1,o=!0,r=275,s=200,l=e(this),u=e("<div></div>").addClass("material-placeholder");l.wrap(u),l.on("click",function(){var s=l.parent(".material-placeholder"),u=window.innerWidth,c=window.innerHeight,d=l.width(),p=l.height();if(o===!1)return t(),!1;if(n&&o===!0)return t(),!1;o=!1,l.addClass("active"),n=!0,s.css({width:s[0].getBoundingClientRect().width,height:s[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),i=void 0,a=s[0].parentNode;for(;null!==a&&!e(a).is(document);){var h=e(a);"visible"!==h.css("overflow")&&(h.css("overflow","visible"),i=void 0===i?h:i.add(h)),a=a.parentNode}l.css({position:"absolute","z-index":1e3}).data("width",d).data("height",p);var m=e('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){o===!0&&t()});if(l.before(m),m.velocity({opacity:1},{duration:r,queue:!1,easing:"easeOutQuad"}),""!==l.data("caption")){var g=e('<div class="materialbox-caption"></div>');g.text(l.data("caption")),e("body").append(g),g.css({display:"inline"}),g.velocity({opacity:1},{duration:r,queue:!1,easing:"easeOutQuad"})}var f=0,b=d/u,v=p/c,k=0,y=0;b>v?(f=p/d,k=.9*u,y=.9*u*f):(f=d/p,k=.9*c*f,y=.9*c),l.hasClass("responsive-img")?l.velocity({"max-width":k,width:d},{duration:0,queue:!1,complete:function(){l.css({left:0,top:0}).velocity({height:y,width:k,left:e(document).scrollLeft()+u/2-l.parent(".material-placeholder").offset().left-k/2,top:e(document).scrollTop()+c/2-l.parent(".material-placeholder").offset().top-y/2},{duration:r,queue:!1,easing:"easeOutQuad",complete:function(){o=!0}})}}):l.css("left",0).css("top",0).velocity({height:y,width:k,left:e(document).scrollLeft()+u/2-l.parent(".material-placeholder").offset().left-k/2,top:e(document).scrollTop()+c/2-l.parent(".material-placeholder").offset().top-y/2},{duration:r,queue:!1,easing:"easeOutQuad",complete:function(){o=!0}})}),e(window).scroll(function(){n&&t()}),e(document).keyup(function(e){27===e.keyCode&&o===!0&&n&&t()})}})},e(document).ready(function(){e(".materialboxed").materialbox()})}(jQuery);
!function(e){function t(){var t=+e(this).attr("length"),i=+e(this).val().length,a=i<=t;e(this).parent().find('span[class="character-counter"]').html(i+"/"+t),n(a,e(this))}function i(t){var i=t.parent().find('span[class="character-counter"]');i.length||(i=e("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1),t.parent().append(i))}function a(){e(this).parent().find('span[class="character-counter"]').html("")}function n(e,t){var i=t.hasClass("invalid");e&&i?t.removeClass("invalid"):e||i||(t.removeClass("valid"),t.addClass("invalid"))}e.fn.characterCounter=function(){return this.each(function(){var n=e(this),o=n.parent().find('span[class="character-counter"]');if(!o.length){var r=void 0!==n.attr("length");r&&(n.on("input",t),n.on("focus",t),n.on("blur",a),i(n))}})},e(document).ready(function(){e("input, textarea").characterCounter()})}(jQuery);